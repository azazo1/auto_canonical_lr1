# auto LR

自动计算规范 LR(1) 文法的规范 LR(1) 项集族和语法分析表.

使用方法:

1. 准备输入文法(`input.txt`):

   ```text
   program -> compoundstmt
   stmt -> ifstmt | whilestmt | assgstmt | compoundstmt
   compoundstmt -> { stmts }
   stmts -> stmt stmts | E
   ifstmt -> if ( boolexpr ) then stmt else stmt
   whilestmt -> while ( boolexpr ) stmt
   assgstmt -> ID = arithexpr ;
   boolexpr -> arithexpr boolop arithexpr
   boolop -> < | > | <= | >= | ==
   arithexpr -> multexpr arithexprprime
   arithexprprime -> + multexpr arithexprprime | - multexpr arithexprprime | E
   multexpr -> simpleexpr multexprprime
   multex_prprime -> * simpleexpr multexprprime | / simpleexpr multexprprime | E
   simpleexpr -> ID | NUM | ( arithexpr )
   ```

2. 运行:

   ```shell
   cargo run -q -- --symbol-start program < input.txt &> output.txt
   ```

3. 获取输出(`output.txt`), 预期是能够输出项集族和语法分析表.

<details style="padding-left: 2em; padding-right: 2em; border-left: 4px solid #44aae4ff; border-width: 2px; margin-bottom: 1em">
<summary style="color: #cccccc; font-size: 1.13em">这是示例语法的语法分析表</summary>

| | `(` | `)` | `*` | `+` | `-` | `/` | `;` | `<` | `=` | `>` | `{` | `}` | `<=` | `==` | `>=` | `ID` | `if` | `NUM` | `else` | `then` | `while` | `multexprprime` | `E` | `eof` | `arithexpr` | `arithexprprime` | `assgstmt` | `boolexpr` | `boolop` | `compoundstmt` | `ifstmt` | `multex_prprime` | `multexpr` | `program` | `programprime` | `simpleexpr` | `stmt` | `stmts` | `whilestmt` |
| - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - | - |
| $I_{0}$ |  |  |  |  |  |  |  |  |  |  | s1 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 2 |  |  |  | 3 |  |  |  |  |  |
| $I_{1}$ |  |  |  |  |  |  |  |  |  |  | s4 | r8 |  |  |  | s5 | s6 |  |  |  | s7 |  |  |  |  |  | 8 |  |  | 9 | 10 |  |  |  |  |  | 11 | 12 | 13 |
| $I_{2}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r1 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{3}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | acc |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{4}$ |  |  |  |  |  |  |  |  |  |  |  | r8 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 14 |  |
| $I_{5}$ |  |  |  |  |  |  |  |  | s16 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{6}$ | s15 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{7}$ | s18 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{8}$ |  |  |  |  |  |  |  |  |  |  | r4 | r4 |  |  |  | r4 | r4 |  |  |  | r4 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{9}$ |  |  |  |  |  |  |  |  |  |  | r5 | r5 |  |  |  | r5 | r5 |  |  |  | r5 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{10}$ |  |  |  |  |  |  |  |  |  |  | r2 | r2 |  |  |  | r2 | r2 |  |  |  | r2 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{11}$ |  |  |  |  |  |  |  |  |  |  |  | r8 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 17 |  |
| $I_{12}$ |  |  |  |  |  |  |  |  |  |  |  | s19 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{13}$ |  |  |  |  |  |  |  |  |  |  | r3 | r3 |  |  |  | r3 | r3 |  |  |  | r3 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{14}$ |  |  |  |  |  |  |  |  |  |  |  | s30 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{15}$ | s20 |  |  |  |  |  |  |  |  |  |  |  |  |  |  | s21 |  | s22 |  |  |  |  |  |  | 23 |  |  | 24 |  |  |  |  | 25 |  |  | 26 |  |  |  |
| $I_{16}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 27 |  |  |  |  |  |  |  | 28 |  |  | 29 |  |  |  |
| $I_{17}$ |  |  |  |  |  |  |  |  |  |  |  | r7 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{18}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 31 |  |  |  |  |  |  |  |  |  |  |  |
| $I_{19}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r6 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{20}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 36 |  |  |  |  |  |  |  | 37 |  |  | 38 |  |  |  |
| $I_{21}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r26 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{22}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r27 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{23}$ |  |  |  |  |  |  |  | s42 |  | s43 |  |  | s44 | s45 | s46 |  |  |  |  |  |  |  |  |  |  |  |  |  | 47 |  |  |  |  |  |  |  |  |  |  |
| $I_{24}$ |  | s51 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{25}$ |  |  |  | s33 | s34 |  |  | r21 |  | r21 |  |  | r21 | r21 | r21 |  |  |  |  |  |  |  |  |  |  | 35 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{26}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | s32 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{27}$ |  |  |  |  |  |  | s50 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{28}$ |  |  |  | s39 | s40 |  | r21 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 41 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{29}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | s49 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{30}$ |  |  |  |  |  |  |  |  |  |  | r6 | r6 |  |  |  | r6 | r6 |  |  |  | r6 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{31}$ |  | s48 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{32}$ |  |  |  | r22 | r22 |  |  | r22 |  | r22 |  |  | r22 | r22 | r22 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{33}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 54 |  |  |  |  |  |  |
| $I_{34}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 55 |  |  |  |  |  |  |
| $I_{35}$ |  |  |  |  |  |  |  | r18 |  | r18 |  |  | r18 | r18 | r18 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{36}$ |  | s60 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{37}$ |  | r21 |  | s56 | s57 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 58 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{38}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | s59 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{39}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 53 |  |  |  |  |  |  |
| $I_{40}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 61 |  |  |  |  |  |  |
| $I_{41}$ |  |  |  |  |  |  | r18 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{42}$ | r13 |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r13 |  | r13 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{43}$ | r14 |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r14 |  | r14 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{44}$ | r15 |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r15 |  | r15 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{45}$ | r17 |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r17 |  | r17 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{46}$ | r16 |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r16 |  | r16 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{47}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 63 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{48}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 52 |  |  |
| $I_{49}$ |  |  |  | r22 | r22 |  | r22 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{50}$ |  |  |  |  |  |  |  |  |  |  | r11 | r11 |  |  |  | r11 | r11 |  |  |  | r11 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{51}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | s62 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{52}$ |  |  |  |  |  |  |  |  |  |  | r10 | r10 |  |  |  | r10 | r10 |  |  |  | r10 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{53}$ |  |  |  |  |  |  | r21 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 77 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{54}$ |  |  |  |  |  |  |  | r21 |  | r21 |  |  | r21 | r21 | r21 |  |  |  |  |  |  |  |  |  |  | 67 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{55}$ |  |  |  |  |  |  |  | r21 |  | r21 |  |  | r21 | r21 | r21 |  |  |  |  |  |  |  |  |  |  | 65 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{56}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 78 |  |  |  |  |  |  |
| $I_{57}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 66 |  |  |  |  |  |  |
| $I_{58}$ |  | r18 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{59}$ |  | r22 |  | r22 | r22 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{60}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r28 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{61}$ |  |  |  |  |  |  | r21 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 64 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{62}$ |  |  |  |  |  |  |  |  |  |  | s68 |  |  |  |  | s69 | s70 |  |  |  | s71 |  |  |  |  |  | 72 |  |  | 73 | 74 |  |  |  |  |  | 75 |  | 76 |
| $I_{63}$ |  | r12 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{64}$ |  |  |  |  |  |  | r20 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{65}$ |  |  |  |  |  |  |  | r20 |  | r20 |  |  | r20 | r20 | r20 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{66}$ |  | r21 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 79 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{67}$ |  |  |  |  |  |  |  | r19 |  | r19 |  |  | r19 | r19 | r19 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{68}$ |  |  |  |  |  |  |  |  |  |  |  | r8 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 83 |  |
| $I_{69}$ |  |  |  |  |  |  |  |  | s80 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{70}$ | s82 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{71}$ | s85 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{72}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r4 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{73}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r5 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{74}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r2 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{75}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | s84 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{76}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r3 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{77}$ |  |  |  |  |  |  | r19 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{78}$ |  | r21 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 81 |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{79}$ |  | r20 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{80}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 86 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{81}$ |  | r19 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{82}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 89 |  |  |  |  |  |  |  |  |  |  |  |
| $I_{83}$ |  |  |  |  |  |  |  |  |  |  |  | s90 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{84}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 87 |  |  |
| $I_{85}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 88 |  |  |  |  |  |  |  |  |  |  |  |
| $I_{86}$ |  |  |  |  |  |  | s93 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{87}$ |  |  |  |  |  |  |  |  |  |  | r9 | r9 |  |  |  | r9 | r9 |  |  |  | r9 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{88}$ |  | s92 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{89}$ |  | s91 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{90}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r6 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{91}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | s95 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{92}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 94 |  |  |
| $I_{93}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r11 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{94}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r10 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{95}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 96 |  |  |
| $I_{96}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | s97 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
| $I_{97}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | 98 |  |  |
| $I_{98}$ |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  | r9 |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |

</details>

## 特殊终结符

- eof: 使用 "eof" 表示 token 流末尾.
- E: 使用 "E" 表示 $\epsilon$ 终结符.
